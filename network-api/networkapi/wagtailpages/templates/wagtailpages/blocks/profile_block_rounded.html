{% extends "./base_streamfield_block.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block block_content %}
    <div class="tw-row tw-py-4">
        {% for block in self.profiles %}
            {% with card=block.profile count=self.cards|length %}
                <div class="tw-px-4 small:tw-w-full medium:tw-w-1/3 tw-mb-5">
                    <div class="card-regular tw-h-full tw-flex-col">
                        {% if card.image %}
                            {% image card.image fill-140x140 as img %}
                            <img src="{{ img.url }}" alt="{{ card.alt_text }}" class="tw-rounded-full tw-w-[140px] tw-h-[140px]" />
                        {% endif %}
                        <div class="tw-flex tw-flex-1">
                            <div class="tw-bg-white tw-relative tw-py-4 tw-w-full tw-flex tw-flex-col">
                                <div class="tw-h5-heading tw-mb-2">{{ card.name }}</div>
                                {% if card.tagline %}
                                    <div class="tw-h6-heading">{{ card.tagline }}</div>
                                {% endif %}
                                {% if card.introduction %}
                                    <p class="tw-body tw-m-0">{{ card.introduction|truncatechars:250 }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            {% endwith %}
        {% endfor %}
    </div>
{% endblock %}